#!/bin/bash

timestamp=`date`

# echo "Model: gpt-3.5-turbo"
# domain="books"
# source="librarything"
# type="jdoc-annotated"
# if [ -d gpt-3.5-turbo.$domain.$type.$source ]
# then
#     done=`ls gpt-3.5-turbo.$domain.$type.$source/prompt.* | wc -l | awk '{ print $1; }'`
# else
#     done=0
# fi
# total=`wc -l first-posts.$type.$domain.$source.tsv | awk '{ print $1; }'`
# echo $done $total $domain $type $source | awk -v timestamp="$timestamp" '{ 
#     done = $1;
#     total = $2 - 1;
#     domain = $3;
#     type = $4;
#     source = $5;
#     perc_done = done / total * 100;
#     printf("%s\t\t%s\t%s\t%s\t\t%s / %s (%.1f%% completed)\n", timestamp, domain, type, source, done, total, perc_done);
# }'

# domain="books"
# source="reddit"
# type="extra"
# if [ -d gpt-3.5-turbo.$domain.$type.$source ]
# then
#     done=`ls gpt-3.5-turbo.$domain.$type.$source/prompt.* | wc -l | awk '{ print $1; }'`
# else
#     done=0
# fi
# total=`wc -l first-posts.$type.$domain.$source.tsv | awk '{ print $1; }'`
# echo $done $total $domain $type $source | awk -v timestamp="$timestamp" '{ 
#     done = $1;
#     total = $2 - 1;
#     domain = $3;
#     type = $4;
#     source = $5;
#     perc_done = done / total * 100;
#     printf("%s\t\t%s\t%s\t\t%s\t\t\t%s / %s (%.1f%% completed)\n", timestamp, domain, type, source, done, total, perc_done);
# }'

# domain="books"
# source="goodreads-20250415"
# type="extra"
# if [ -d gpt-3.5-turbo.$domain.$type.$source ]
# then
#     done=`ls gpt-3.5-turbo.$domain.$type.$source/prompt.* | wc -l | awk '{ print $1; }'`
# else
#     done=0
# fi
# total=`wc -l first-posts.$type.$domain.$source.tsv | awk '{ print $1; }'`
# echo $done $total $domain $type $source | awk -v timestamp="$timestamp" '{ 
#     done = $1;
#     total = $2 - 1;
#     domain = $3;
#     type = $4;
#     source = $5;
#     perc_done = done / total * 100;
#     printf("%s\t\t%s\t%s\t\t%s\t%s / %s (%.1f%% completed)\n", timestamp, domain, type, source, done, total, perc_done);
# }'

# domain="books"
# source="goodreads-20250525"
# type="extra"
# if [ -d gpt-3.5-turbo.$domain.$type.$source ]
# then
#     done=`ls gpt-3.5-turbo.$domain.$type.$source/prompt.* | wc -l | awk '{ print $1; }'`
# else
#     done=0
# fi
# total=`wc -l first-posts.$type.$domain.$source.tsv | awk '{ print $1; }'`
# echo $done $total $domain $type $source | awk -v timestamp="$timestamp" '{ 
#     done = $1;
#     total = $2 - 1;
#     domain = $3;
#     type = $4;
#     source = $5;
#     perc_done = done / total * 100;
#     printf("%s\t\t%s\t%s\t\t%s\t%s / %s (%.1f%% completed)\n", timestamp, domain, type, source, done, total, perc_done);
# }'

# domain="games"
# source="reddit"
# type="jdoc-annotated"
# if [ -d gpt-3.5-turbo.$domain.$type.$source ]
# then
#     done=`ls gpt-3.5-turbo.$domain.$type.$source/prompt.* | wc -l | awk '{ print $1; }'`
# else
#     done=0
# fi
# total=`wc -l first-posts.$type.$domain.$source.tsv | awk '{ print $1; }'`
# echo $done $total $domain $type $source | awk -v timestamp="$timestamp" '{ 
#     done = $1;
#     total = $2 - 1;
#     domain = $3;
#     type = $4;
#     source = $5;
#     perc_done = done / total * 100;
#     printf("%s\t\t%s\t%s\t%s\t\t\t%s / %s (%.1f%% completed)\n", timestamp, domain, type, source, done, total, perc_done);
# }'

# domain="games"
# source="reddit"
# type="extra"
# if [ -d gpt-3.5-turbo.$domain.$type.$source ]
# then
#     done=`ls gpt-3.5-turbo.$domain.$type.$source/prompt.* | wc -l | awk '{ print $1; }'`
# else
#     done=0
# fi
# total=`wc -l first-posts.$type.$domain.$source.tsv | awk '{ print $1; }'`
# echo $done $total $domain $type $source | awk -v timestamp="$timestamp" '{ 
#     done = $1;
#     total = $2 - 1;
#     domain = $3;
#     type = $4;
#     source = $5;
#     perc_done = done / total * 100;
#     printf("%s\t\t%s\t%s\t\t%s\t\t\t%s / %s (%.1f%% completed)\n", timestamp, domain, type, source, done, total, perc_done);
# }'

# domain="games"
# source="reddit-202504xx"
# type="extra"
# if [ -d gpt-3.5-turbo.$domain.$type.$source ]
# then
#     done=`ls gpt-3.5-turbo.$domain.$type.$source/prompt.* | wc -l | awk '{ print $1; }'`
# else
#     done=0
# fi
# total=`wc -l first-posts.$type.$domain.$source.tsv | awk '{ print $1; }'`
# echo $done $total $domain $type $source | awk -v timestamp="$timestamp" '{ 
#     done = $1;
#     total = $2 - 1;
#     domain = $3;
#     type = $4;
#     source = $5;
#     perc_done = done / total * 100;
#     printf("%s\t\t%s\t%s\t\t%s\t\t%s / %s (%.1f%% completed)\n", timestamp, domain, type, source, done, total, perc_done);
# }'

# domain="games"
# source="reddit-202505xx"
# type="extra"
# if [ -d gpt-3.5-turbo.$domain.$type.$source ]
# then
#     done=`ls gpt-3.5-turbo.$domain.$type.$source/prompt.* | wc -l | awk '{ print $1; }'`
# else
#     done=0
# fi
# total=`wc -l first-posts.$type.$domain.$source.tsv | awk '{ print $1; }'`
# echo $done $total $domain $type $source | awk -v timestamp="$timestamp" '{ 
#     done = $1;
#     total = $2 - 1;
#     domain = $3;
#     type = $4;
#     source = $5;
#     perc_done = done / total * 100;
#     printf("%s\t\t%s\t%s\t\t%s\t\t%s / %s (%.1f%% completed)\n", timestamp, domain, type, source, done, total, perc_done);
# }'

# domain="games"
# source="reddit-202506xx"
# type="extra"
# if [ -d gpt-3.5-turbo.$domain.$type.$source ]
# then
#     done=`ls gpt-3.5-turbo.$domain.$type.$source/prompt.* | wc -l | awk '{ print $1; }'`
# else
#     done=0
# fi
# total=`wc -l first-posts.$type.$domain.$source.tsv | awk '{ print $1; }'`
# echo $done $total $domain $type $source | awk -v timestamp="$timestamp" '{ 
#     done = $1;
#     total = $2 - 1;
#     domain = $3;
#     type = $4;
#     source = $5;
#     perc_done = done / total * 100;
#     printf("%s\t\t%s\t%s\t\t%s\t\t%s / %s (%.1f%% completed)\n", timestamp, domain, type, source, done, total, perc_done);
# }'

# domain="movies"
# source="imdb"
# type="jdoc-annotated"
# if [ -d gpt-3.5-turbo.$domain.$type.$source ]
# then
#     done=`ls gpt-3.5-turbo.$domain.$type.$source/prompt.* | wc -l | awk '{ print $1; }'`
# else
#     done=0
# fi
# total=`wc -l first-posts.$type.$domain.$source.tsv | awk '{ print $1; }'`
# echo $done $total $domain $type $source | awk -v timestamp="$timestamp" '{ 
#     done = $1;
#     total = $2 - 1;
#     domain = $3;
#     type = $4;
#     source = $5;
#     perc_done = done / total * 100;
#     printf("%s\t\t%s\t%s\t%s\t\t\t%s / %s (%.1f%% completed)\n", timestamp, domain, type, source, done, total, perc_done);
# }'

# domain="movies"
# source="imdb"
# type="extra"
# if [ -d gpt-3.5-turbo.$domain.$type.$source ]
# then
#     done=`ls gpt-3.5-turbo.$domain.$type.$source/prompt.* | wc -l | awk '{ print $1; }'`
# else
#     done=0
# fi
# total=`wc -l first-posts.$type.$domain.$source.tsv | awk '{ print $1; }'`
# echo $done $total $domain $type $source | awk -v timestamp="$timestamp" '{ 
#     done = $1;
#     total = $2 - 1;
#     domain = $3;
#     type = $4;
#     source = $5;
#     perc_done = done / total * 100;
#     printf("%s\t\t%s\t%s\t\t%s\t\t\t%s / %s (%.1f%% completed)\n", timestamp, domain, type, source, done, total, perc_done);
# }'



# echo ""



echo "Model: gpt-4o-mini"
domain="books"
source="librarything"
type="jdoc-annotated"
if [ -d gpt-4o-mini.$domain.$type.$source ]
then
    done=`ls gpt-4o-mini.$domain.$type.$source/prompt.* | wc -l | awk '{ print $1; }'`
else
    done=0
fi
total=`wc -l first-posts.$type.$domain.$source.tsv | awk '{ print $1; }'`
echo $done $total $domain $type $source | awk -v timestamp="$timestamp" '{ 
    done = $1;
    total = $2 - 1;
    domain = $3;
    type = $4;
    source = $5;
    perc_done = done / total * 100;
    printf("%s\t\t%s\t%s\t%s\t\t%s / %s (%.1f%% completed)\n", timestamp, domain, type, source, done, total, perc_done);
}'

domain="books"
source="reddit"
type="extra"
if [ -d gpt-4o-mini.$domain.$type.$source ]
then
    done=`ls gpt-4o-mini.$domain.$type.$source/prompt.* | wc -l | awk '{ print $1; }'`
else
    done=0
fi
total=`wc -l first-posts.$type.$domain.$source.tsv | awk '{ print $1; }'`
echo $done $total $domain $type $source | awk -v timestamp="$timestamp" '{ 
    done = $1;
    total = $2 - 1;
    domain = $3;
    type = $4;
    source = $5;
    perc_done = done / total * 100;
    printf("%s\t\t%s\t%s\t\t%s\t\t\t%s / %s (%.1f%% completed)\n", timestamp, domain, type, source, done, total, perc_done);
}'

domain="books"
source="goodreads-20250415"
type="extra"
if [ -d gpt-4o-mini.$domain.$type.$source ]
then
    done=`ls gpt-4o-mini.$domain.$type.$source/prompt.* | wc -l | awk '{ print $1; }'`
else
    done=0
fi
total=`wc -l first-posts.$type.$domain.$source.tsv | awk '{ print $1; }'`
echo $done $total $domain $type $source | awk -v timestamp="$timestamp" '{ 
    done = $1;
    total = $2 - 1;
    domain = $3;
    type = $4;
    source = $5;
    perc_done = done / total * 100;
    printf("%s\t\t%s\t%s\t\t%s\t%s / %s (%.1f%% completed)\n", timestamp, domain, type, source, done, total, perc_done);
}'

domain="books"
source="goodreads-20250525"
type="extra"
if [ -d gpt-4o-mini.$domain.$type.$source ]
then
    done=`ls gpt-4o-mini.$domain.$type.$source/prompt.* | wc -l | awk '{ print $1; }'`
else
    done=0
fi
total=`wc -l first-posts.$type.$domain.$source.tsv | awk '{ print $1; }'`
echo $done $total $domain $type $source | awk -v timestamp="$timestamp" '{ 
    done = $1;
    total = $2 - 1;
    domain = $3;
    type = $4;
    source = $5;
    perc_done = done / total * 100;
    printf("%s\t\t%s\t%s\t\t%s\t%s / %s (%.1f%% completed)\n", timestamp, domain, type, source, done, total, perc_done);
}'

domain="books"
source="reddit-spring2025"
type="extra"
if [ -d gpt-4o-mini.$domain.$type.$source ]
then
    done=`ls gpt-4o-mini.$domain.$type.$source/prompt.* | wc -l | awk '{ print $1; }'`
else
    done=0
fi
total=`wc -l first-posts-solved.$type.$domain.$source.tsv | awk '{ print $1; }'`
echo $done $total $domain $type $source | awk -v timestamp="$timestamp" '{ 
    done = $1;
    total = $2 - 1;
    domain = $3;
    type = $4;
    source = $5;
    perc_done = done / total * 100;
    printf("%s\t\t%s\t%s\t\t⭐️ %s\t%s / %s (%.1f%% completed)\n", timestamp, domain, type, source, done, total, perc_done);
}'

domain="books"
source="reddit-summer2025"
type="extra"
if [ -d gpt-4o-mini.$domain.$type.$source ]
then
    done=`ls gpt-4o-mini.$domain.$type.$source/prompt.* | wc -l | awk '{ print $1; }'`
else
    done=0
fi
total=`wc -l first-posts-solved.$type.$domain.$source.tsv | awk '{ print $1; }'`
echo $done $total $domain $type $source | awk -v timestamp="$timestamp" '{ 
    done = $1;
    total = $2 - 1;
    domain = $3;
    type = $4;
    source = $5;
    perc_done = done / total * 100;
    printf("%s\t\t%s\t%s\t\t⭐️ %s\t%s / %s (%.1f%% completed)\n", timestamp, domain, type, source, done, total, perc_done);
}'

domain="games"
source="reddit"
type="jdoc-annotated"
if [ -d gpt-4o-mini.$domain.$type.$source ]
then
    done=`ls gpt-4o-mini.$domain.$type.$source/prompt.* | wc -l | awk '{ print $1; }'`
else
    done=0
fi
total=`wc -l first-posts.$type.$domain.$source.tsv | awk '{ print $1; }'`
echo $done $total $domain $type $source | awk -v timestamp="$timestamp" '{ 
    done = $1;
    total = $2 - 1;
    domain = $3;
    type = $4;
    source = $5;
    perc_done = done / total * 100;
    printf("%s\t\t%s\t%s\t%s\t\t\t%s / %s (%.1f%% completed)\n", timestamp, domain, type, source, done, total, perc_done);
}'

domain="games"
source="reddit"
type="extra"
if [ -d gpt-4o-mini.$domain.$type.$source ]
then
    done=`ls gpt-4o-mini.$domain.$type.$source/prompt.* | wc -l | awk '{ print $1; }'`
else
    done=0
fi
total=`wc -l first-posts.$type.$domain.$source.tsv | awk '{ print $1; }'`
echo $done $total $domain $type $source | awk -v timestamp="$timestamp" '{ 
    done = $1;
    total = $2 - 1;
    domain = $3;
    type = $4;
    source = $5;
    perc_done = done / total * 100;
    printf("%s\t\t%s\t%s\t\t%s\t\t\t%s / %s (%.1f%% completed)\n", timestamp, domain, type, source, done, total, perc_done);
}'

domain="games"
source="reddit-202504xx"
type="extra"
if [ -d gpt-4o-mini.$domain.$type.$source ]
then
    done=`ls gpt-4o-mini.$domain.$type.$source/prompt.* | wc -l | awk '{ print $1; }'`
else
    done=0
fi
total=`wc -l first-posts.$type.$domain.$source.tsv | awk '{ print $1; }'`
echo $done $total $domain $type $source | awk -v timestamp="$timestamp" '{ 
    done = $1;
    total = $2 - 1;
    domain = $3;
    type = $4;
    source = $5;
    perc_done = done / total * 100;
    printf("%s\t\t%s\t%s\t\t%s\t\t%s / %s (%.1f%% completed)\n", timestamp, domain, type, source, done, total, perc_done);
}'

domain="games"
source="reddit-202505xx"
type="extra"
if [ -d gpt-4o-mini.$domain.$type.$source ]
then
    done=`ls gpt-4o-mini.$domain.$type.$source/prompt.* | wc -l | awk '{ print $1; }'`
else
    done=0
fi
total=`wc -l first-posts.$type.$domain.$source.tsv | awk '{ print $1; }'`
echo $done $total $domain $type $source | awk -v timestamp="$timestamp" '{ 
    done = $1;
    total = $2 - 1;
    domain = $3;
    type = $4;
    source = $5;
    perc_done = done / total * 100;
    printf("%s\t\t%s\t%s\t\t%s\t\t%s / %s (%.1f%% completed)\n", timestamp, domain, type, source, done, total, perc_done);
}'

domain="games"
source="reddit-202506xx"
type="extra"
if [ -d gpt-4o-mini.$domain.$type.$source ]
then
    done=`ls gpt-4o-mini.$domain.$type.$source/prompt.* | wc -l | awk '{ print $1; }'`
else
    done=0
fi
total=`wc -l first-posts.$type.$domain.$source.tsv | awk '{ print $1; }'`
echo $done $total $domain $type $source | awk -v timestamp="$timestamp" '{ 
    done = $1;
    total = $2 - 1;
    domain = $3;
    type = $4;
    source = $5;
    perc_done = done / total * 100;
    printf("%s\t\t%s\t%s\t\t%s\t\t%s / %s (%.1f%% completed)\n", timestamp, domain, type, source, done, total, perc_done);
}'

domain="games"
source="reddit-spring2025"
type="extra"
if [ -d gpt-4o-mini.$domain.$type.$source ]
then
    done=`ls gpt-4o-mini.$domain.$type.$source/prompt.* | wc -l | awk '{ print $1; }'`
else
    done=0
fi
total=`wc -l first-posts-solved.$type.$domain.$source.tsv | awk '{ print $1; }'`
echo $done $total $domain $type $source | awk -v timestamp="$timestamp" '{ 
    done = $1;
    total = $2 - 1;
    domain = $3;
    type = $4;
    source = $5;
    perc_done = done / total * 100;
    printf("%s\t\t%s\t%s\t\t⭐️ %s\t%s / %s (%.1f%% completed)\n", timestamp, domain, type, source, done, total, perc_done);
}'

domain="movies"
source="imdb"
type="jdoc-annotated"
if [ -d gpt-4o-mini.$domain.$type.$source ]
then
    done=`ls gpt-4o-mini.$domain.$type.$source/prompt.* | wc -l | awk '{ print $1; }'`
else
    done=0
fi
total=`wc -l first-posts.$type.$domain.$source.tsv | awk '{ print $1; }'`
echo $done $total $domain $type $source | awk -v timestamp="$timestamp" '{ 
    done = $1;
    total = $2 - 1;
    domain = $3;
    type = $4;
    source = $5;
    perc_done = done / total * 100;
    printf("%s\t\t%s\t%s\t%s\t\t\t%s / %s (%.1f%% completed)\n", timestamp, domain, type, source, done, total, perc_done);
}'

domain="movies"
source="imdb"
type="extra"
if [ -d gpt-4o-mini.$domain.$type.$source ]
then
    done=`ls gpt-4o-mini.$domain.$type.$source/prompt.* | wc -l | awk '{ print $1; }'`
else
    done=0
fi
total=`wc -l first-posts.$type.$domain.$source.tsv | awk '{ print $1; }'`
echo $done $total $domain $type $source | awk -v timestamp="$timestamp" '{ 
    done = $1;
    total = $2 - 1;
    domain = $3;
    type = $4;
    source = $5;
    perc_done = done / total * 100;
    printf("%s\t\t%s\t%s\t\t%s\t\t\t%s / %s (%.1f%% completed)\n", timestamp, domain, type, source, done, total, perc_done);
}'

domain="movies"
source="reddit-spring2025"
type="extra"
if [ -d gpt-4o-mini.$domain.$type.$source ]
then
    done=`ls gpt-4o-mini.$domain.$type.$source/prompt.* | wc -l | awk '{ print $1; }'`
else
    done=0
fi
total=`wc -l first-posts-solved.$type.$domain.$source.tsv | awk '{ print $1; }'`
echo $done $total $domain $type $source | awk -v timestamp="$timestamp" '{ 
    done = $1;
    total = $2 - 1;
    domain = $3;
    type = $4;
    source = $5;
    perc_done = done / total * 100;
    printf("%s\t\t%s\t%s\t\t⭐️ %s\t%s / %s (%.1f%% completed)\n", timestamp, domain, type, source, done, total, perc_done);
}'



# echo ""



# echo "Model: gpt-4o"
# domain="books"
# source="librarything"
# type="jdoc-annotated"
# if [ -d gpt-4o.$domain.$type.$source ]
# then
#     done=`ls gpt-4o.$domain.$type.$source/prompt.* | wc -l | awk '{ print $1; }'`
# else
#     done=0
# fi
# total=`wc -l first-posts.$type.$domain.$source.tsv | awk '{ print $1; }'`
# echo $done $total $domain $type $source | awk -v timestamp="$timestamp" '{ 
#     done = $1;
#     total = $2 - 1;
#     domain = $3;
#     type = $4;
#     source = $5;
#     perc_done = done / total * 100;
#     printf("%s\t\t%s\t%s\t%s\t\t%s / %s (%.1f%% completed)\n", timestamp, domain, type, source, done, total, perc_done);
# }'

# domain="books"
# source="goodreads-20250415"
# type="extra"
# if [ -d gpt-4o.$domain.$type.$source ]
# then
#     done=`ls gpt-4o.$domain.$type.$source/prompt.* | wc -l | awk '{ print $1; }'`
# else
#     done=0
# fi
# total=`wc -l first-posts.$type.$domain.$source.tsv | awk '{ print $1; }'`
# echo $done $total $domain $type $source | awk -v timestamp="$timestamp" '{ 
#     done = $1;
#     total = $2 - 1;
#     domain = $3;
#     type = $4;
#     source = $5;
#     perc_done = done / total * 100;
#     printf("%s\t\t%s\t%s\t\t%s\t%s / %s (%.1f%% completed)\n", timestamp, domain, type, source, done, total, perc_done);
# }'

# domain="books"
# source="goodreads-20250525"
# type="extra"
# if [ -d gpt-4o.$domain.$type.$source ]
# then
#     done=`ls gpt-4o.$domain.$type.$source/prompt.* | wc -l | awk '{ print $1; }'`
# else
#     done=0
# fi
# total=`wc -l first-posts.$type.$domain.$source.tsv | awk '{ print $1; }'`
# echo $done $total $domain $type $source | awk -v timestamp="$timestamp" '{ 
#     done = $1;
#     total = $2 - 1;
#     domain = $3;
#     type = $4;
#     source = $5;
#     perc_done = done / total * 100;
#     printf("%s\t\t%s\t%s\t\t%s\t%s / %s (%.1f%% completed)\n", timestamp, domain, type, source, done, total, perc_done);
# }'

# domain="games"
# source="reddit"
# type="jdoc-annotated"
# if [ -d gpt-4o.$domain.$type.$source ]
# then
#     done=`ls gpt-4o.$domain.$type.$source/prompt.* | wc -l | awk '{ print $1; }'`
# else
#     done=0
# fi
# total=`wc -l first-posts.$type.$domain.$source.tsv | awk '{ print $1; }'`
# echo $done $total $domain $type $source | awk -v timestamp="$timestamp" '{ 
#     done = $1;
#     total = $2 - 1;
#     domain = $3;
#     type = $4;
#     source = $5;
#     perc_done = done / total * 100;
#     printf("%s\t\t%s\t%s\t%s\t\t\t%s / %s (%.1f%% completed)\n", timestamp, domain, type, source, done, total, perc_done);
# }'

# domain="movies"
# source="imdb"
# type="jdoc-annotated"
# if [ -d gpt-4o.$domain.$type.$source ]
# then
#     done=`ls gpt-4o.$domain.$type.$source/prompt.* | wc -l | awk '{ print $1; }'`
# else
#     done=0
# fi
# total=`wc -l first-posts.$type.$domain.$source.tsv | awk '{ print $1; }'`
# echo $done $total $domain $type $source | awk -v timestamp="$timestamp" '{ 
#     done = $1;
#     total = $2 - 1;
#     domain = $3;
#     type = $4;
#     source = $5;
#     perc_done = done / total * 100;
#     printf("%s\t\t%s\t%s\t%s\t\t\t%s / %s (%.1f%% completed)\n", timestamp, domain, type, source, done, total, perc_done);
# }'
